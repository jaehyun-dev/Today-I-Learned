# 의존 관계 역전 원칙

2023.05.14

## 01. 의존 관계 역전 원칙
### 의존 관계 역전 원칙(Dependency Inversion Principle)
- 상위 모듈은 하위 모듈의 구현 내용에 의존하면 안 된다
- 상위 모듈과 하위 모듈 모두 추상화된 내용에 의존해야 한다

### 상위 모듈과 하위 모듈의 관계
- 두 클래스가 있을 때 A 클래스가 B 클래스를 사용하는 관계에 있으면, A 클래스를 상위 모듈, B 클래스를 하위 모듈이라고 함
- 만약 상위 모듈이 하위 모듈의 구현 내용에 의존하면, 하위 모듈의 메소드가 사라지거나 이름이 바뀌었을 때 상위 모듈에서 문제가 생김
- 하위 모듈이 바뀌었을 때 이것에 의존하던 상위 모듈도 수정되어야 한다면, 코드를 유지 보수하기 힘들어짐
- 의존 관계 역전 원칙은, 이러한 관계를 만들지 말라는 것

<br/><br/>

2023.05.16

## 02. 의존 관계 역전 원칙 적용
- 추상 클래스를 만들고, 이를 상속받는 다른 클래스를 만들어서 오버라이딩을 함
- 상위 모듈은 하위 모듈 구현 내용이 아닌 추상 클래스의 메소드를 사용함
- 이렇게 하면 의존 관계 역전 원칙을 지키는 것

<br/><br/>

## 03. 의존 관계 역전 원칙 정리
- 상위 모듈은 하위 모듈의 구현 내용에 의존하면 안 된다
- 상위 모듈과 하위 모듈 모두 추상화된 내용에 의존해야 한다
- 상위 모듈이란 다른 클래스를 사용하는 주된 클래스
- 하위 모듈은 사용되는 클래스
- 상위 모듈은 보통 프로그램의 메인 흐름에 좀더 가깝고 하위 모듈은 상대적으로 좀더 멀리 있음
- 의존 관계 역전 원칙은 상위 모듈이 하위 모듈을 사용할 때 직접 인스턴스를 가져다가 쓰지 말라는 뜻
- 스턴스를 바로 가져다가 쓴다는 말은 하위 모듈의 구체적인 내용에 상위 모듈이 의존하게 되어 하위 모듈에 변화가 있을 때마다 상위 모듈의 코드를 자주 바꿔줘야 하기 때문
- 이에 대한 해결책은 추상 클래스로 상위 모듈과 하위 모듈 사이에 추상화 레이어를 만드는 것
    1. 상위 모듈에는 추상 클래스의 자식 클래스의 인스턴스를 사용한다는 가정 하에 그 하위 모듈을 사용하는 코드를 작성해두면 되고,
    2. 하위 모듈은 추상 클래스의 추상 메소드들을 구현(오버라이딩)만 하면 됨
- 그럼 상위 모듈은 새로운 하위 모듈이 생겨도 기존 코드를 수정하지 않고 새 하위 모듈을 자유롭게 가져다 쓸 수 있음
- 그만큼 코드를 유지보수하기 편해지는 것
- 의존 관계 역전 원칙은 개방-폐쇄 원칙을 지키는 하나의 방법

<br/><br/>

2023.05.18

## 04. 의존 관계 역전 원칙 퀴즈

질문 1  
퀴즈 해설: 의존 관계 역전 원칙을 지키지 않으면 하위 모듈에 문제가 생길 때 상위 모듈에도 문제가 발생하지만 그 반대는 성립하지 않는다.
